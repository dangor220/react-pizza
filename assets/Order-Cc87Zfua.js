import{g as Ae,e as N,f as _,h as ze,j as p,i as Ke,a as Je,L as Ge,c as Ze,u as Xe}from"./index-C4pXSCGX.js";var Re={exports:{}},Ie={exports:{}},Fe={exports:{}},Qe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",He=Qe,et=He;function Ne(){}function Te(){}Te.resetWarningCache=Ne;var tt=function(){function t(r,a,o,l,u,i){if(i!==et){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Te,resetWarningCache:Ne};return n.PropTypes=n,n};Fe.exports=tt();var nt=Fe.exports;const O=Ae(nt);var rt=function(t,e,n,r,a,o,l,u){if(!t){var i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,a,o,l,u],c=0;i=new Error(e.replace(/%s/g,function(){return f[c++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}},at=rt,x=N,ve=at;function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(this,arguments)}function Le(t){return requestAnimationFrame(t)}function ye(t){cancelAnimationFrame(t)}function q(t){var e=t.ownerDocument;return e.hasFocus()&&e.activeElement===t}function De(t){return t==null?void 0:t.ownerDocument}function ot(t){var e=function(n){var r;return(r=De(n))==null?void 0:r.defaultView}(t);return!!e&&t instanceof e.HTMLElement}function he(t){return x.useCallback(function(){var e=t.current,n=typeof window<"u"&&ot(e);if(!e||!n)return null;if(e.nodeName!=="INPUT"&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},[t])}function it(t,e){var n,r,a,o,l=x.useRef({start:null,end:null}),u=he(t),i=x.useCallback(function(){return function(h){var v=h.selectionStart,R=h.selectionEnd;return{start:v,end:R,length:R-v}}(u())},[u]),f=x.useCallback(function(){return l.current},[]),c=x.useCallback(function(h){var v=u();v&&q(v)&&(function(R,I,g){g===void 0&&(g=I),R.setSelectionRange(I,g)}(v,h.start,h.end),l.current=i())},[u,i]),s=x.useCallback(function(){l.current=i()},[i]),d=(n=s,r=x.useRef(null),a=x.useCallback(function(){r.current===null&&function h(){n(),r.current=Le(h)}()},[n]),o=x.useCallback(function(){ye(r.current),r.current=null},[]),x.useEffect(function(){r.current&&(o(),a())},[a,o]),x.useEffect(ye,[]),[a,o]),y=d[0],w=d[1];return x.useLayoutEffect(function(){if(e){var h=u();return h.addEventListener("focus",y),h.addEventListener("blur",w),q(h)&&y(),function(){h.removeEventListener("focus",y),h.removeEventListener("blur",w),w()}}}),{getSelection:i,getLastSelection:f,setSelection:c}}function st(t,e){var n=x.useRef(),r=it(n,e),a=r.getSelection,o=r.getLastSelection,l=r.setSelection,u=function(s,d){var y=he(s),w=x.useRef(d);return{getValue:x.useCallback(function(){return y().value},[y]),getLastValue:x.useCallback(function(){return w.current},[]),setValue:x.useCallback(function(h){w.current=h;var v=y();v&&(v.value=h)},[y])}}(n,t),i=u.getValue,f=u.getLastValue,c=u.setValue;return{inputRef:n,getInputState:function(){return{value:i(),selection:a()}},getLastInputState:function(){return{value:f(),selection:o()}},setInputState:function(s){var d=s.value,y=s.selection;c(d),l(y)}}}var lt=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],Ee={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},ut=function(t){var e=this;this.isCharacterAllowedAtPosition=function(n,r){var a=e.maskOptions.maskPlaceholder;return!!e.isCharacterFillingPosition(n,r)||!!a&&a[r]===n},this.isCharacterFillingPosition=function(n,r){var a=e.maskOptions.mask;if(!n||r>=a.length)return!1;if(!e.isPositionEditable(r))return a[r]===n;var o=a[r];return new RegExp(o).test(n)},this.isPositionEditable=function(n){var r=e.maskOptions,a=r.mask,o=r.permanents;return n<a.length&&o.indexOf(n)===-1},this.isValueEmpty=function(n){return n.split("").every(function(r,a){return!e.isPositionEditable(a)||!e.isCharacterFillingPosition(r,a)})},this.isValueFilled=function(n){return e.getFilledLength(n)===e.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(n){var r=e.getFilledLength(n),a=e.getRightEditablePosition(r);return{start:a,end:a}},this.getFilledLength=function(n){return function(r,a){for(var o=r.length-1;o>=0;o--)if(a(r[o],o))return o;return-1}(n.split(""),function(r,a){return e.isPositionEditable(a)&&e.isCharacterFillingPosition(r,a)})+1},this.getStringFillingLengthAtPosition=function(n,r){return n.split("").reduce(function(a,o){return e.insertCharacterAtPosition(a,o,a.length)},function(a,o){o===void 0&&(o=1);for(var l="",u=0;u<o;u++)l+=a;return l}(" ",r)).length-r},this.getLeftEditablePosition=function(n){for(var r=n;r>=0;r--)if(e.isPositionEditable(r))return r;return null},this.getRightEditablePosition=function(n){for(var r=e.maskOptions.mask,a=n;a<r.length;a++)if(e.isPositionEditable(a))return a;return null},this.formatValue=function(n){var r=e.maskOptions,a=r.maskPlaceholder,o=r.mask;if(!a){for(n=e.insertStringAtPosition("",n,0);n.length<o.length&&!e.isPositionEditable(n.length);)n+=o[n.length];return n}return e.insertStringAtPosition(a,n,0)},this.clearRange=function(n,r,a){if(!a)return n;var o=r+a,l=e.maskOptions,u=l.maskPlaceholder,i=l.mask,f=n.split("").map(function(c,s){var d=e.isPositionEditable(s);return!u&&s>=o&&!d?"":s<r||s>=o?c:d?u?u[s]:"":i[s]}).join("");return e.formatValue(f)},this.insertCharacterAtPosition=function(n,r,a){var o=e.maskOptions,l=o.mask,u=o.maskPlaceholder;if(a>=l.length)return n;var i=e.isCharacterAllowedAtPosition(r,a),f=e.isPositionEditable(a),c=e.getRightEditablePosition(a),s=u&&c?r===u[c]:null,d=n.slice(0,a);return!i&&f||(n=d+(i?r:l[a])),i||f||s||(n=e.insertCharacterAtPosition(n,r,a+1)),n},this.insertStringAtPosition=function(n,r,a){var o=e.maskOptions,l=o.mask,u=o.maskPlaceholder;if(!r||a>=l.length)return n;var i=r.split(""),f=e.isValueFilled(n)||!!u,c=n.slice(a);return n=i.reduce(function(s,d){return e.insertCharacterAtPosition(s,d,s.length)},n.slice(0,a)),f?n+=c.slice(n.length-a):e.isValueFilled(n)?n+=l.slice(n.length).join(""):n=c.split("").filter(function(s,d){return e.isPositionEditable(a+d)}).reduce(function(s,d){var y=e.getRightEditablePosition(s.length);return y===null?s:(e.isPositionEditable(s.length)||(s+=l.slice(s.length,y).join("")),e.insertCharacterAtPosition(s,d,s.length))},n),n},this.processChange=function(n,r){var a=e.maskOptions,o=a.mask,l=a.prefix,u=a.lastEditablePosition,i=n.value,f=n.selection,c=r.value,s=r.selection,d=i,y="",w=0,h=0,v=Math.min(s.start,f.start);return f.end>s.start?(y=d.slice(s.start,f.end),h=(w=e.getStringFillingLengthAtPosition(y,v))?s.length:0):d.length<c.length&&(h=c.length-d.length),d=c,h&&(h===1&&!s.length&&(v=s.start===f.start?e.getRightEditablePosition(f.start):e.getLeftEditablePosition(f.start)),d=e.clearRange(d,v,h)),d=e.insertStringAtPosition(d,y,v),(v+=w)>=o.length?v=o.length:v<l.length&&!w?v=l.length:v>=l.length&&v<u&&w&&(v=e.getRightEditablePosition(v)),{value:d=e.formatValue(d),enteredString:y,selection:{start:v,end:v}}},this.maskOptions=function(n){var r=n.mask,a=n.maskPlaceholder,o=[];if(!r)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if(typeof r=="string"){var l=!1,u="";r.split("").forEach(function(c){l||c!=="\\"?(!l&&Ee[c]||o.push(u.length),u+=c,l=!1):l=!0}),r=u.split("").map(function(c,s){return o.indexOf(s)===-1?Ee[c]:c})}else r.forEach(function(c,s){typeof c=="string"&&o.push(s)});a&&(a=a.length===1?r.map(function(c,s){return o.indexOf(s)!==-1?c:a}):a.split(""),o.forEach(function(c){a[c]=r[c]}),a=a.join(""));for(var i=o.filter(function(c,s){return c===s}).map(function(c){return r[c]}).join(""),f=r.length-1;o.indexOf(f)!==-1;)f--;return{maskPlaceholder:a,prefix:i,mask:r,lastEditablePosition:f,permanents:o}}(t)},ct=["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"],ce=x.forwardRef(function(t,e){var n=t.alwaysShowMask,r=t.children,a=t.mask,o=t.maskPlaceholder,l=t.beforeMaskedStateChange,u=function(E,b){if(E==null)return{};var m,C,S={},L=Object.keys(E);for(C=0;C<L.length;C++)m=L[C],b.indexOf(m)>=0||(S[m]=E[m]);return S}(t,ct);(function(E){var b=E.mask,m=E.maskPlaceholder;b&&m&&m.length!==1&&m.length!==b.length&&ve(!1)})(t);var i,f,c=new ut({mask:a,maskPlaceholder:o}),s=!!a,d=!u.disabled&&!u.readOnly,y=t.value!==null&&t.value!==void 0,w=(i=s,f=x.useRef(),x.useEffect(function(){f.current=i}),f.current),h=function(E){return""+E}((y?t.value:t.defaultValue)||""),v=st(h,s),R=v.inputRef,I=v.getInputState,g=v.setInputState,P=v.getLastInputState,T=he(R);if(s&&y){var B=T(),z=B&&q(B)||n||t.value?c.formatValue(t.value):t.value;l&&(z=l({nextState:{value:z,selection:{start:null,end:null}}}).value),g(M({},P(),{value:z}))}var G=P(),se=G.selection,le=G.value;x.useLayoutEffect(function(){if(s){var E=T();if(E){var b=q(E),m=se,C=I(),S=M({},C);if(!y){var L=C.value,U=c.formatValue(L),D=c.isValueEmpty(U);!D||b||n?S.value=U:D&&!b&&(S.value="")}b&&!w?S.selection=c.getDefaultSelectionForValue(S.value):y&&b&&m&&m.start!==null&&m.end!==null&&(S.selection=m),l&&(S=l({currentState:C,nextState:S})),g(S)}}});var Z=function(E){R.current=E,function(b){return typeof b=="function"}(e)?e(E):e!==null&&typeof e=="object"&&(e.current=E)},X=M({},u,{onFocus:function(E){R.current=E.target;var b=I().value;if(s&&!c.isValueFilled(b)){var m=c.formatValue(b),C=c.getDefaultSelectionForValue(m),S={value:m,selection:C};l&&(m=(S=l({currentState:I(),nextState:S})).value,C=S.selection),g(S),m!==b&&t.onChange&&t.onChange(E),Le(function(){g(P())})}t.onFocus&&t.onFocus(E)},onBlur:function(E){var b=I().value,m=P().value;if(s&&!n&&c.isValueEmpty(m)){var C="",S={value:C,selection:{start:null,end:null}};l&&(C=(S=l({currentState:I(),nextState:S})).value),g(S),C!==b&&t.onChange&&t.onChange(E)}t.onBlur&&t.onBlur(E)},onChange:s&&d?function(E){var b=I(),m=P(),C=c.processChange(b,m);l&&(C=l({currentState:b,previousState:m,nextState:C})),g(C),t.onChange&&t.onChange(E)}:t.onChange,onMouseDown:s&&d?function(E){var b=T();if(b){var m=I().value,C=De(b);if(!q(b)&&!c.isValueFilled(m)){var S=E.clientX,L=E.clientY,U=new Date().getTime();C.addEventListener("mouseup",function D(W){if(C.removeEventListener("mouseup",D),q(b)){var Y=Math.abs(W.clientX-S),ue=Math.abs(W.clientY-L),Q=Math.max(Y,ue),J=new Date().getTime()-U;if(Q<=10&&J<=200||Q<=5&&J<=300){var A=P(),H=M({},A,{selection:c.getDefaultSelectionForValue(A.value)});g(H)}}})}t.onMouseDown&&t.onMouseDown(E)}}:t.onMouseDown,value:s&&y?le:t.value});if(r){(function(E,b){lt.filter(function(m){return b.props[m]!=null&&b.props[m]!==E[m]}).length&&ve(!1)})(t,r);var K=x.Children.only(r);return x.cloneElement(K,M({},X,{ref:Z}))}return x.createElement("input",M({ref:Z},X))});ce.displayName="InputMask",ce.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},Ie.exports=ce;var ft=Ie.exports;Re.exports=ft;var dt=Re.exports;const pt=Ae(dt);function be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?be(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ne(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ne=function(e){return typeof e}:ne=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(t)}function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e){return ht(t)||gt(t,e)||vt(t,e)||yt()}function ht(t){if(Array.isArray(t))return t}function gt(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],a=!0,o=!1,l,u;try{for(n=n.call(t);!(a=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));a=!0);}catch(i){o=!0,u=i}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function vt(t,e){if(t){if(typeof t=="string")return Ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(t,e)}}function Ce(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Et=function(e){var n=_.useRef(e);return _.useEffect(function(){n.current=e},[e]),n.current},ie=function(e){return e!==null&&ne(e)==="object"},xe="[object Object]",bt=function t(e,n){if(!ie(e)||!ie(n))return e===n;var r=Array.isArray(e),a=Array.isArray(n);if(r!==a)return!1;var o=Object.prototype.toString.call(e)===xe,l=Object.prototype.toString.call(n)===xe;if(o!==l)return!1;if(!o&&!r)return e===n;var u=Object.keys(e),i=Object.keys(n);if(u.length!==i.length)return!1;for(var f={},c=0;c<u.length;c+=1)f[u[c]]=!0;for(var s=0;s<i.length;s+=1)f[i[s]]=!0;var d=Object.keys(f);if(d.length!==u.length)return!1;var y=e,w=n,h=function(R){return t(y[R],w[R])};return d.every(h)},St=function(e,n,r){return ie(e)?Object.keys(e).reduce(function(a,o){var l=!ie(n)||!bt(e[o],n[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):l?Se(Se({},a||{}),{},Me({},o,e[o])):a},null):null},$e=_.createContext(null);$e.displayName="ElementsContext";var Ct=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},Ue=_.createContext(null);Ue.displayName="CartElementContext";var xt=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e};O.any,O.object;var we=function(e){var n=_.useContext($e);return Ct(n,e)},Pe=function(e){var n=_.useContext(Ue);return xt(n,e)};O.func.isRequired;var F=function(e,n,r){var a=!!r,o=_.useRef(r);_.useEffect(function(){o.current=r},[r]),_.useEffect(function(){if(!a||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,l),function(){e.off(n,l)}},[a,n,e,o])},wt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},j=function(e,n){var r="".concat(wt(e),"Element"),a=function(i){var f=i.id,c=i.className,s=i.options,d=s===void 0?{}:s,y=i.onBlur,w=i.onFocus,h=i.onReady,v=i.onChange,R=i.onEscape,I=i.onClick,g=i.onLoadError,P=i.onLoaderStart,T=i.onNetworksChange,B=i.onCheckout,z=i.onLineItemClick,G=i.onConfirm,se=i.onCancel,le=i.onShippingAddressChange,Z=i.onShippingRateChange,X=we("mounts <".concat(r,">")),K=X.elements,E=_.useState(null),b=mt(E,2),m=b[0],C=b[1],S=_.useRef(null),L=_.useRef(null),U=Pe("mounts <".concat(r,">")),D=U.setCart,W=U.setCartState;F(m,"blur",y),F(m,"focus",w),F(m,"escape",R),F(m,"click",I),F(m,"loaderror",g),F(m,"loaderstart",P),F(m,"networkschange",T),F(m,"lineitemclick",z),F(m,"confirm",G),F(m,"cancel",se),F(m,"shippingaddresschange",le),F(m,"shippingratechange",Z);var Y;e==="cart"?Y=function(H){W(H),h&&h(H)}:h&&(e==="payButton"?Y=h:Y=function(){h(m)}),F(m,"ready",Y);var ue=e==="cart"?function(A){W(A),v&&v(A)}:v;F(m,"change",ue);var Q=e==="cart"?function(A){W(A),B&&B(A)}:B;F(m,"checkout",Q),_.useLayoutEffect(function(){if(S.current===null&&K&&L.current!==null){var A=K.create(e,d);e==="cart"&&D&&D(A),S.current=A,C(A),A.mount(L.current)}},[K,d,D]);var J=Et(d);return _.useEffect(function(){if(S.current){var A=St(d,J,["paymentRequest"]);A&&S.current.update(A)}},[d,J]),_.useLayoutEffect(function(){return function(){S.current&&(S.current.destroy(),S.current=null)}},[]),_.createElement("div",{id:f,className:c,ref:L})},o=function(i){we("mounts <".concat(r,">")),Pe("mounts <".concat(r,">"));var f=i.id,c=i.className;return _.createElement("div",{id:f,className:c})},l=n?o:a;return l.propTypes={id:O.string,className:O.string,onChange:O.func,onBlur:O.func,onFocus:O.func,onReady:O.func,onEscape:O.func,onClick:O.func,onLoadError:O.func,onLoaderStart:O.func,onNetworksChange:O.func,onCheckout:O.func,onLineItemClick:O.func,onConfirm:O.func,onCancel:O.func,onShippingAddressChange:O.func,onShippingRateChange:O.func,options:O.object},l.displayName=r,l.__elementType=e,l},k=typeof window>"u";j("auBankAccount",k);var Pt=j("card",k);j("cardNumber",k);j("cardExpiry",k);j("cardCvc",k);j("fpxBank",k);j("iban",k);j("idealBank",k);j("p24Bank",k);j("epsBank",k);j("payment",k);j("payButton",k);j("paymentRequestButton",k);j("linkAuthentication",k);j("address",k);j("shippingAddress",k);j("cart",k);j("paymentMethodMessaging",k);j("affirmMessage",k);j("afterpayClearpayMessage",k);var ge=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,jt=Object.getOwnPropertyNames,kt=Object.prototype.hasOwnProperty,_t=(t,e)=>{for(var n in e)ge(t,n,{get:e[n],enumerable:!0})},At=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of jt(e))!kt.call(t,a)&&a!==n&&ge(t,a,{get:()=>e[a],enumerable:!(r=Ot(e,a))||r.enumerable});return t},Rt=t=>At(ge({},"__esModule",{value:!0}),t),Oe=(t,e,n)=>new Promise((r,a)=>{var o=i=>{try{u(n.next(i))}catch(f){a(f)}},l=i=>{try{u(n.throw(i))}catch(f){a(f)}},u=i=>i.done?r(i.value):Promise.resolve(i.value).then(o,l);u((n=n.apply(t,e)).next())}),Ve={};_t(Ve,{SubmissionError:()=>V,appendExtraData:()=>re,createClient:()=>Be,getDefaultClient:()=>Qt,isSubmissionError:()=>Vt});var pe=Rt(Ve),$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",It=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function Ft(t){t=String(t);for(var e,n,r,a,o="",l=0,u=t.length%3;l<t.length;){if((n=t.charCodeAt(l++))>255||(r=t.charCodeAt(l++))>255||(a=t.charCodeAt(l++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=n<<16|r<<8|a,o+=$.charAt(e>>18&63)+$.charAt(e>>12&63)+$.charAt(e>>6&63)+$.charAt(e&63)}return u?o.slice(0,u-3)+"===".substring(u):o}function Nt(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!It.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(t.length&3));for(var e,n="",r,a,o=0;o<t.length;)e=$.indexOf(t.charAt(o++))<<18|$.indexOf(t.charAt(o++))<<12|(r=$.indexOf(t.charAt(o++)))<<6|(a=$.indexOf(t.charAt(o++))),n+=r===64?String.fromCharCode(e>>16&255):a===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,e&255);return n}var Tt=()=>navigator.webdriver||!!document.documentElement.getAttribute(Nt("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,Lt=class{constructor(){this.loadedAt=Date.now(),this.webdriver=Tt()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},Dt=class{constructor(t){this.kind="success",this.next=t.next}};function Mt(t){return"next"in t&&typeof t.next=="string"}var $t=class{constructor(t,e){this.paymentIntentClientSecret=t,this.resubmitKey=e,this.kind="stripePluginPending"}};function Ut(t){if("stripe"in t&&"resubmitKey"in t&&typeof t.resubmitKey=="string"){let{stripe:e}=t;return typeof e=="object"&&e!=null&&"paymentIntentClientSecret"in e&&typeof e.paymentIntentClientSecret=="string"}return!1}function Vt(t){return t.kind==="error"}var V=class{constructor(...t){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var e;for(let n of t){if(!n.field){this.formErrors.push({code:n.code&&Bt(n.code)?n.code:"UNSPECIFIED",message:n.message});continue}let r=(e=this.fieldErrors.get(n.field))!=null?e:[];r.push({code:n.code&&Yt(n.code)?n.code:"UNSPECIFIED",message:n.message}),this.fieldErrors.set(n.field,r)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(t){var e;return(e=this.fieldErrors.get(t))!=null?e:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function Bt(t){return t in Wt}var Wt={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function Yt(t){return t in qt}var qt={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function zt(t){return"errors"in t&&Array.isArray(t.errors)&&t.errors.every(e=>typeof e.message=="string")||"error"in t&&typeof t.error=="string"}var Kt="3.0.1",Jt=t=>Ft(JSON.stringify(t)),Gt=t=>{let e=`@formspree/core@${Kt}`;return t?`${t} ${e}`:e};function re(t,e,n){t instanceof FormData?t.append(e,n):t[e]=n}function Zt(t){return t!==null&&typeof t=="object"}var Xt=class{constructor(t={}){this.project=t.project,this.stripe=t.stripe,typeof window<"u"&&(this.session=new Lt)}submitForm(t,e){return Oe(this,arguments,function*(n,r,a={}){let o=a.endpoint||"https://formspree.io",l=this.project?`${o}/p/${this.project}/f/${n}`:`${o}/f/${n}`,u={Accept:"application/json","Formspree-Client":Gt(a.clientName)};this.session&&(u["Formspree-Session-Data"]=Jt(this.session.data())),r instanceof FormData||(u["Content-Type"]="application/json");function i(c){return Oe(this,null,function*(){try{let s=yield(yield fetch(l,{method:"POST",mode:"cors",body:c instanceof FormData?c:JSON.stringify(c),headers:u})).json();if(Zt(s)){if(zt(s))return Array.isArray(s.errors)?new V(...s.errors):new V({message:s.error});if(Ut(s))return new $t(s.stripe.paymentIntentClientSecret,s.resubmitKey);if(Mt(s))return new Dt({next:s.next})}return new V({message:"Unexpected response format"})}catch(s){let d=s instanceof Error?s.message:`Unknown error while posting to Formspree: ${JSON.stringify(s)}`;return new V({message:d})}})}if(this.stripe&&a.createPaymentMethod){let c=yield a.createPaymentMethod();if(c.error)return new V({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});re(r,"paymentMethod",c.paymentMethod.id);let s=yield i(r);if(s.kind==="error")return s;if(s.kind==="stripePluginPending"){let d=yield this.stripe.handleCardAction(s.paymentIntentClientSecret);if(d.error)return new V({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});r instanceof FormData?r.delete("paymentMethod"):delete r.paymentMethod,re(r,"paymentIntent",d.paymentIntent.id),re(r,"resubmitKey",s.resubmitKey);let y=yield i(r);return je(y),y}return s}let f=yield i(r);return je(f),f})}};function je(t){let{kind:e}=t;if(e!=="success"&&e!=="error")throw new Error(`Unexpected submission result (kind: ${e})`)}var Be=t=>new Xt(t),Qt=()=>(fe||(fe=Be()),fe),fe,We={};Object.defineProperty(We,"__esModule",{value:!0});function ae(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ae=function(e){return typeof e}:ae=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(t)}var Ye="https://js.stripe.com/v3",Ht=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ke="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",en=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ye,'"]')),n=0;n<e.length;n++){var r=e[n];if(Ht.test(r.src))return r}return null},tn=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Ye).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},nn=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:n})},ee=null,rn=function(e){return ee!==null||(ee=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(ke),window.Stripe){n(window.Stripe);return}try{var a=en();a&&e?console.warn(ke):a||(a=tn(e)),a.addEventListener("load",function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(o){r(o);return}})),ee},an=function(e,n,r){if(e===null)return null;var a=e.apply(void 0,n);return nn(a,r),a},_e=function(e){var n=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||ae(e)!=="object")throw new Error(n);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(n)},oe,me=!1,qe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];me=!0;var a=Date.now();return rn(oe).then(function(o){return an(o,n,a)})};qe.setLoadParameters=function(t){if(me&&oe){var e=_e(t),n=Object.keys(e),r=n.reduce(function(a,o){var l;return a&&t[o]===((l=oe)===null||l===void 0?void 0:l[o])},!0);if(r)return}if(me)throw new Error("You cannot change load parameters after calling loadStripe");oe=_e(t)};We.loadStripe=qe;function te(t){let{prefix:e,field:n,errors:r,...a}=t;if(r==null)return null;let o=n?r.getFieldErrors(n):r.getFormErrors();return o.length===0?null:_.createElement("div",{...a},e?`${e} `:null,o.map(l=>l.message).join(", "))}var on=_.createContext(null);function sn(){return N.useContext(on)??{client:pe.getDefaultClient()}}var ln="2.5.1",un=`@formspree/react@${ln}`;function cn(t,e={}){let n=sn(),{client:r=n.client,extraData:a,onError:o,onSuccess:l,origin:u}=e,{stripe:i}=r,f=N.useMemo(()=>i==null?void 0:i.elements().getElement(Pt),[i]);return async function(c){let s=fn(c)?dn(c):c;if(typeof a=="object")for(let[y,w]of Object.entries(a)){let h;typeof w=="function"?h=await w():h=w,h!==void 0&&pe.appendExtraData(s,y,h)}let d=await r.submitForm(t,s,{endpoint:u,clientName:un,createPaymentMethod:i&&f?()=>i.createPaymentMethod({type:"card",card:f,billing_details:pn(s)}):void 0});pe.isSubmissionError(d)?o==null||o(d):l==null||l(d)}}function fn(t){return"preventDefault"in t&&typeof t.preventDefault=="function"}function dn(t){t.preventDefault();let e=t.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function pn(t){let e={address:mn(t)};for(let n of["name","email","phone"]){let r=t instanceof FormData?t.get(n):t[n];r&&typeof r=="string"&&(e[n]=r)}return e}function mn(t){let e={};for(let[n,r]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let a=t instanceof FormData?t.get(n):t[n];a&&typeof a=="string"&&(e[r]=a)}return e}function hn(t,e={}){let[n,r]=N.useState(null),[a,o]=N.useState(null),[l,u]=N.useState(!1),[i,f]=N.useState(!1),c=cn(t,{client:e.client,extraData:e.data,onError(s){r(s),u(!1),f(!1)},onSuccess(s){r(null),o(s),u(!1),f(!0)},origin:e.endpoint});return[{errors:n,result:a,submitting:l,succeeded:i},async function(s){u(!0),await c(s)},function(){r(null),o(null),u(!1),f(!1)}]}const gn="_root_6ceb9_1",vn="_dropdown_6ceb9_5",yn="_suggestion_6ceb9_21",de={root:gn,dropdown:vn,suggestion:yn};function En(){const[t,e]=N.useState(""),[n,r]=N.useState([]),[a,o]=N.useState(!1),[l,u]=N.useState(-1),[i,f]=N.useState(!1),c=N.useRef(null);N.useEffect(()=>{if(i){f(!1);return}if(t.length<3){r([]),o(!1);return}d()},[t]);const d=ze(async()=>{try{const g=await Ke.get("https://suggest-maps.yandex.ru/v1/suggest",{params:{apikey:"e0138f23-d41a-450e-8004-203dc2962ef7",text:t}});r(g.data.results||[]),g.data.results.length>0&&o(!0)}catch(g){console.error("Error fetching suggestions:",g),r([])}},1500),y=g=>{e(g.target.value),u(-1)},w=g=>{g.key==="ArrowDown"?u(P=>{const T=(P+1)%n.length;return I(T),T}):g.key==="ArrowUp"?u(P=>{const T=(P-1+n.length)%n.length;return I(T),T}):g.key==="Enter"?(g.preventDefault(),l>=0&&n[l]&&h(n[l].title.text)):g.key==="Escape"&&o(!1)},h=g=>{f(!0),e(P=>{const T=P.lastIndexOf(",");return T===-1?g:`${P.slice(0,T+1)} ${g}`.trim()}),o(!1),r([])},v=g=>{h(g)},R=()=>{setTimeout(()=>o(!1),200)},I=g=>{const P=c.current;P&&P.children[g]&&P.children[g].scrollIntoView({block:"nearest",inline:"nearest"})};return p.jsxs("div",{className:de.root,children:[p.jsx("input",{type:"text",name:"address",onChange:y,value:t,onKeyDown:w,onBlur:R,onFocus:()=>t.length>=3&&o(!0),placeholder:"Введите адрес",autoComplete:"off",required:!0}),a&&n.length>0&&p.jsx("ul",{className:de.dropdown,ref:c,children:n.map((g,P)=>p.jsx("li",{className:de.suggestion,style:{backgroundColor:P===l?"#f0f0f0":"#fff"},onMouseEnter:()=>u(P),onClick:()=>v(g.title.text),children:g.title.text},P))})]})}const bn=()=>{const t=Je();return p.jsxs("div",{className:"order-confirmed",children:[p.jsx("h2",{className:"order-confirmed__title",children:"Ваш заказ принят!"}),p.jsx("p",{className:"order-confirmed__description",children:"Спасибо за ваш заказ! Мы уже приступили к его обработке. В ближайшее время наш менеджер свяжется с вами для уточнения удобного способа оплаты и подтверждения деталей доставки."}),p.jsx(Ge,{to:"/",className:"order-confirmed__button",onClick:()=>{t(Ze())},children:"Вернуться к меню"})]})};function Cn(){const t=Xe(u=>u.cart),[e,n]=N.useState({name:"",phone:"",address:"",comments:""}),r=u=>{const i=[];return Object.keys(u).forEach(f=>{u[+f].forEach(c=>{const s=`${c.title} (тесто ${c.type}, ${c.size} см): ${c.count} шт. x ${c.price} ₽ = ${c.count*c.price} ₽`;i.push(s)})}),i.join(`
`)},[a,o]=hn("xzzbvddb",{data:{orderSummary:r(t.items),totalPrice:String(t.totalPrice),totalCount:String(t.totalCount)}});if(a.succeeded)return p.jsx(bn,{});const l=u=>{n({...e,[u.target.name]:u.target.value})};return p.jsx("div",{className:"order-container",children:p.jsx("form",{className:"order-form",onSubmit:o,children:p.jsxs("div",{className:"order-columns",children:[p.jsxs("div",{className:"form-fields",children:[p.jsx("h2",{children:"Оформление заказа"}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"name",children:["Имя ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:l,placeholder:"Введите ваше имя",required:!0}),p.jsx(te,{prefix:"Name",field:"name",errors:a.errors})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"phone",children:["Телефон ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx(pt,{type:"tel",id:"phone",name:"phone",placeholder:"+7 (___) ___-__-__",required:!0,mask:"+7 (999) 999-99-99",value:e.phone,onChange:l}),p.jsx(te,{prefix:"Phone",field:"phone",errors:a.errors})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{htmlFor:"address",children:["Адрес ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx(En,{}),p.jsx(te,{prefix:"Address",field:"address",errors:a.errors})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"comments",children:"Комментарий"}),p.jsx("textarea",{id:"comments",name:"comments",value:e.comments,onChange:l,placeholder:"Комментарий к заказу"}),p.jsx(te,{prefix:"Comments",field:"comments",errors:a.errors})]})]}),p.jsxs("div",{className:"order-summary",children:[p.jsx("h3",{children:"Ваш заказ"}),p.jsx("ul",{children:Object.keys(t.items).map(u=>t.items[+u].map((i,f)=>p.jsxs("li",{children:[p.jsx("img",{src:i.imageUrl,alt:i.title,className:"pizza-image"}),p.jsxs("div",{className:"pizza-details",children:[p.jsx("span",{children:i.title}),p.jsxs("span",{children:["Тесто ",i.type,", ",i.size," см"]}),p.jsxs("span",{children:["Количество: ",i.count," шт."]}),p.jsxs("span",{children:["Цена за 1 шт: ",i.price," ₽"]})]}),p.jsxs("div",{className:"item-total",children:[p.jsx("strong",{children:"Всего:"})," ",i.price*i.count," ₽"]})]},`${u}-${f}`)))}),p.jsxs("div",{className:"total",children:[p.jsx("strong",{children:"Итого:"}),p.jsxs("span",{children:[t.totalPrice," ₽"]})]}),p.jsx("div",{className:"form-submit",children:p.jsx("button",{className:"btn-submit",disabled:a.submitting,type:"submit",children:"Подтвердить заказ"})})]})]})})})}export{Cn as default};
